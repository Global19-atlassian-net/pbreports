test_basic (test_pbreports_filter_subread_summary.TestFilterSubreadSummaryIntegration) ... ok
test_basic (test_pbreports_filter_subread_summary.TestFilterSubreadSummaryReport) ... ok
Test that intervals in the IntervalTree are interpreted ... ok
Test random interval lists. ... ok
test_alignment_info_from_bam (test_pbreports_io_bam.TestBam) ... SKIP: FIXME
test_columns (test_pbreports_io_bam.TestBam) ... ok
test_datum (test_pbreports_io_bam.TestBam) ... ok
test_movie_names (test_pbreports_io_bam.TestBam) ... ok
test_read_aligned_bam (test_pbreports_io_bam.TestBam) ... ok
test_unrolled (test_pbreports_io_bam.TestBam) ... ok
test_alignment_info_from_bam (test_pbreports_io_bam.TestBamLarge) ... ok
test_columns (test_pbreports_io_bam.TestBamLarge) ... ok
test_datum (test_pbreports_io_bam.TestBamLarge) ... ok
test_movie_names (test_pbreports_io_bam.TestBamLarge) ... ok
test_read_aligned_bam (test_pbreports_io_bam.TestBamLarge) ... ok
test_unrolled (test_pbreports_io_bam.TestBamLarge) ... ok
Incorrect csv should be rejected immediately if strict == True ... ok
Test: Count num csv records ... ok
Test: Assert array equals when getting column data ... ok
Test: Throws IOError in constructor ... ok
Test: get num reads from csv ... ok
test_count_aggregator (test_pbreports_model_aggregators.TestAggregators) ... ok
test_histogram_aggregator (test_pbreports_model_aggregators.TestAggregators) ... ok
test_max_aggregator (test_pbreports_model_aggregators.TestAggregators) ... ok
test_mean_aggregator (test_pbreports_model_aggregators.TestAggregators) ... ok
test_min_aggregator (test_pbreports_model_aggregators.TestAggregators) ... ok
test_sum_aggregator (test_pbreports_model_aggregators.TestAggregators) ... ok
test_basic (test_pbreports_model_validators.TestAttributeValidators) ... ok
test_failed_id (test_pbreports_model_validators.TestAttributeValidators) ... ok
test_int_id (test_pbreports_model_validators.TestAttributeValidators) ... ok
test_null_name (test_pbreports_model_validators.TestAttributeValidators) ... ok
test_basic (test_pbreports_model_validators.TestColumnValidator) ... ok
test_basic (test_pbreports_model_validators.TestPlotGroupValidator) ... ok
test_basic (test_pbreports_model_validators.TestPlotValidator) ... ok
test_basic (test_pbreports_model_validators.TestTableValidator) ... ok
Save std histograms. ... ok
test__read_in_file (test_pbreports_plot_rainbow.TestRainbowPlot) ... ok
test__read_in_indexed_alignmentset (test_pbreports_plot_rainbow.TestRainbowPlot) ... ok
test_basic (test_pbreports_report_amplicon_analysis_consensus.TestEmptyInputFile) ... ok
test_basic (test_pbreports_report_amplicon_analysis_consensus.TestIntegrationLongAmpliconAnalysisReport) ... ok
test_basic (test_pbreports_report_amplicon_analysis_consensus.TestLongAmpliconAnalysisReport) ... ok
test_basic (test_pbreports_report_amplicon_analysis_consensus.TestSingleEntryInputFile) ... ok
test_basic (test_pbreports_report_amplicon_analysis_input.TestIntegrationLongAmpliconAnalysisPcrReport) ... ok
test_basic (test_pbreports_report_amplicon_analysis_input.TestLongAmpliconAnalysisPcrReport) ... ok
test_basic (test_pbreports_report_amplicon_analysis_timing.TestAmpliconAnalysisTimingReport) ... ok
test_basic (test_pbreports_report_amplicon_analysis_timing.TestIntegrationAmpliconAnalysisTimingReport) ... ok
test_integration (test_pbreports_report_barcode.TestBarcodeIntegration) ... ok
test_basic (test_pbreports_report_barcode.TestBarcodeReportBasic) ... ok
test_integration (test_pbreports_report_barcode.TestReadsOfInsertBarcodeIntegration) ... SKIP: TODO
test_basic (test_pbreports_report_barcode.TestReadsOfInsertBarcodeReportBasic) ... SKIP: TODO
test_run_e2e (test_pbreports_report_barcode.TestToolContract) ... ok
Basic smoke test ... ok
Run cmdline tool with .bam input ... ok
Run cmdline tool with .xml input ... ok
test_basic (test_pbreports_report_ccs.TestCCSMetrics) ... ok
test_images (test_pbreports_report_ccs.TestCCSMetrics) ... ok
test_mean_accuracy (test_pbreports_report_ccs.TestCCSMetrics) ... ok
test_mean_ccs_num_passes (test_pbreports_report_ccs.TestCCSMetrics) ... ok
test_mean_ccs_readlength (test_pbreports_report_ccs.TestCCSMetrics) ... ok
test_number_of_ccs_reads (test_pbreports_report_ccs.TestCCSMetrics) ... ok
test_smoke_attributes (test_pbreports_report_ccs.TestCCSMetrics) ... ok
test_total_number_of_ccs_bases (test_pbreports_report_ccs.TestCCSMetrics) ... ok
Check that the report doesn't crash when a single BAM file contains ... ok
test_run_e2e (test_pbreports_report_ccs.TestToolContract) ... ok
Create all report attributes, test values ... ok
Test that the length figure obj is not None ... ok
Test that the score figure obj is not None ... ok
Like a cram test. Assert exits with 0. ... ok
Test that a correct control name is returned. Also, test the control reads dict. ... ok
Test the special error report you get when ... No handlers could be found for logger "pbreports.report.control"
ok
Test that only reads that passed filter are returned ... ok
Test that the report gets written proppa ... ok
cmp.h5 must exist ... ok
csv must exist ... ok
cmp.h5 cannot be null ... ok
csv cannot be null ... ok
Assert length of sample and control arrays ... ok
Test that attribute values match expected ... ok
test_attributes_high_coverage (test_pbreports_report_coverage.TestCoveragePlotQuivered) ... SKIP: Not applicable
Test top contigs from ref ... ok
Simple non-null test of single contig fig,ax ... ok
Test that plotGroup of the histogram is created as expected ... ok
Test that plotGroup of coverage plots is created as expected ... ok
Simple (non null) test of histogram ... ok
Like a cram test. Assert exits with 0. ... ok
Like a cram test. Assert exits with 0, even though totalNumContigs is 0. ... ok
Like a cram test. Assert exits with 0 with ReferenceSet XML ... ok
Test the coverage stats object (needs more) ... ok
Create a report object, do assertions on its properties, then assert that it gets written ... ok
Gff exists ... ok
Reference must exist ... ok
Gff cannot be null ... ok
Reference cannot be null ... ok
test_plot_file_names (test_pbreports_report_coverage.TestCoveragePlotQuivered) ... ok
Test top contigs from ref ... ok
Test that attribute values match expected ... ok
test_attributes_high_coverage (test_pbreports_report_coverage.TestCoverageRpt) ... ok
Test top contigs from ref ... ok
Simple non-null test of single contig fig,ax ... ok
Test that plotGroup of the histogram is created as expected ... ok
Test that plotGroup of coverage plots is created as expected ... ok
Simple (non null) test of histogram ... ok
Like a cram test. Assert exits with 0. ... ok
Like a cram test. Assert exits with 0, even though totalNumContigs is 0. ... ok
Like a cram test. Assert exits with 0 with ReferenceSet XML ... ok
Test the coverage stats object (needs more) ... ok
Create a report object, do assertions on its properties, then assert that it gets written ... ok
Gff exists ... ok
Reference must exist ... ok
Gff cannot be null ... ok
Reference cannot be null ... ok
Test top contigs from ref ... ok
test__get_contigs_to_plot (test_pbreports_report_coverage.TestManyContigs) ... ok
test_get_top_contigs (test_pbreports_report_coverage.TestManyContigs) ... ok
test_make_report (test_pbreports_report_coverage.TestManyContigs) ... ok
test_run_e2e (test_pbreports_report_coverage.TestToolContract) ... ok
test_basic (test_pbreports_report_filter_subread.TestFilterSubreadReportNoSubreadsFound) ... ok
test_basic (test_pbreports_report_filter_subread.TestFilterSubreadReportNoSubreadsPassedFilterException) ... ok
test_attribute_filter_subread_mean (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReport) ... ok
test_attribute_filter_subread_n50 (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReport) ... ok
test_attribute_filter_subread_nbases (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReport) ... ok
test_attribute_filter_subread_nreads (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReport) ... ok
test_basic (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReport) ... ok
test_images (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReport) ... ok
test_plot_group_id (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReport) ... ok
test_write_json (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReport) ... ok
test_attribute_filter_subread_mean (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReportIntegration) ... ok
test_attribute_filter_subread_n50 (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReportIntegration) ... ok
test_attribute_filter_subread_nbases (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReportIntegration) ... ok
test_attribute_filter_subread_nreads (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReportIntegration) ... ok
test_basic (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReportIntegration) ... ok
test_images (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReportIntegration) ... ok
test_plot_group_id (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReportIntegration) ... ok
test_write_json (test_pbreports_report_filter_subread.TestFilterSubreadSummaryReportIntegration) ... ok
test_run_e2e (test_pbreports_report_isoseq.PbTestApp) ... ok
test_exit_code (test_pbreports_report_isoseq.TestIsoSeqClassify) ... ok
test_images_exist (test_pbreports_report_isoseq.TestIsoSeqClassify) ... ok
test_report_id (test_pbreports_report_isoseq.TestIsoSeqClassify) ... ok
test_report_plot_groups (test_pbreports_report_isoseq.TestIsoSeqClassify) ... ok
test_validate_report (test_pbreports_report_isoseq.TestIsoSeqClassify) ... ok
test_run_e2e (test_pbreports_report_isoseq.TestIsoSeqClassifyTCI) ... ok
test_exit_code (test_pbreports_report_isoseq.TestIsoSeqCluster) ... ok
test_images_exist (test_pbreports_report_isoseq.TestIsoSeqCluster) ... ok
test_report_id (test_pbreports_report_isoseq.TestIsoSeqCluster) ... ok
test_report_plot_groups (test_pbreports_report_isoseq.TestIsoSeqCluster) ... ok
test_validate_report (test_pbreports_report_isoseq.TestIsoSeqCluster) ... ok
test_run_e2e (test_pbreports_report_isoseq.TestIsoSeqClusterTCI) ... ok
test_mapped_readlength_max (test_pbreports_report_mapping_stats.TestEmptyBAM) ... ok
test_mapped_readlength_mean (test_pbreports_report_mapping_stats.TestEmptyBAM) ... ok
test_mapped_readlength_n50 (test_pbreports_report_mapping_stats.TestEmptyBAM) ... ok
test_mapped_readlength_q95 (test_pbreports_report_mapping_stats.TestEmptyBAM) ... ok
test_mapped_subread_bases_n (test_pbreports_report_mapping_stats.TestEmptyBAM) ... ok
test_mapped_subread_concordance_mean (test_pbreports_report_mapping_stats.TestEmptyBAM) ... ok
test_mapped_subread_readlength_mean (test_pbreports_report_mapping_stats.TestEmptyBAM) ... ok
test_mapped_subreadlength_n50 (test_pbreports_report_mapping_stats.TestEmptyBAM) ... ok
test_number_of_attributes (test_pbreports_report_mapping_stats.TestEmptyBAM) ... ok
test_number_of_columns_in_table (test_pbreports_report_mapping_stats.TestEmptyBAM) ... ok
test_number_of_mapped_reads (test_pbreports_report_mapping_stats.TestEmptyBAM) ... ok
test_number_of_mapped_subreads (test_pbreports_report_mapping_stats.TestEmptyBAM) ... ok
test_number_of_plot_groups (test_pbreports_report_mapping_stats.TestEmptyBAM) ... ok
test_number_of_tables (test_pbreports_report_mapping_stats.TestEmptyBAM) ... ok
test_basic (test_pbreports_report_mapping_stats.TestIntegrationMappingStatsReport) ... ok
test_attributes_order (test_pbreports_report_mapping_stats.TestMappingStatsCCSReport) ... ok
test_mapped_read_concordance_mean (test_pbreports_report_mapping_stats.TestMappingStatsCCSReport) ... ok
test_mapped_readlength_max (test_pbreports_report_mapping_stats.TestMappingStatsCCSReport) ... ok
test_mapped_readlength_mean (test_pbreports_report_mapping_stats.TestMappingStatsCCSReport) ... ok
test_mapped_readlength_q95 (test_pbreports_report_mapping_stats.TestMappingStatsCCSReport) ... ok
test_mapped_reads_n (test_pbreports_report_mapping_stats.TestMappingStatsCCSReport) ... ok
test_number_of_attributes (test_pbreports_report_mapping_stats.TestMappingStatsCCSReport) ... ok
test_number_of_plot_groups (test_pbreports_report_mapping_stats.TestMappingStatsCCSReport) ... ok
test_number_of_tables (test_pbreports_report_mapping_stats.TestMappingStatsCCSReport) ... ok
Test that report doesn't crash on duplicate subreads ... ok
test_all_movies_in_table_have_mapped_reads (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_mapped_readlength_max (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_mapped_readlength_mean (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_mapped_readlength_n50 (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_mapped_readlength_q95 (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_mapped_subread_bases_n (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_mapped_subread_concordance_mean (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_mapped_subread_readlength_mean (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_mapped_subreadlength_n50 (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_number_of_attributes (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_number_of_columns_in_table (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_number_of_mapped_reads (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_number_of_mapped_subreads (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_number_of_plot_groups (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_number_of_tables (test_pbreports_report_mapping_stats.TestMappingStatsMultipleMovies) ... ok
test_mapped_readlength_max (test_pbreports_report_mapping_stats.TestMappingStatsReport) ... ok
test_mapped_readlength_mean (test_pbreports_report_mapping_stats.TestMappingStatsReport) ... ok
test_mapped_readlength_n50 (test_pbreports_report_mapping_stats.TestMappingStatsReport) ... ok
test_mapped_readlength_q95 (test_pbreports_report_mapping_stats.TestMappingStatsReport) ... ok
test_mapped_subread_bases_n (test_pbreports_report_mapping_stats.TestMappingStatsReport) ... ok
test_mapped_subread_concordance_mean (test_pbreports_report_mapping_stats.TestMappingStatsReport) ... ok
test_mapped_subread_readlength_mean (test_pbreports_report_mapping_stats.TestMappingStatsReport) ... ok
test_mapped_subreadlength_n50 (test_pbreports_report_mapping_stats.TestMappingStatsReport) ... ok
test_number_of_attributes (test_pbreports_report_mapping_stats.TestMappingStatsReport) ... ok
test_number_of_columns_in_table (test_pbreports_report_mapping_stats.TestMappingStatsReport) ... ok
test_number_of_mapped_reads (test_pbreports_report_mapping_stats.TestMappingStatsReport) ... ok
test_number_of_mapped_subreads (test_pbreports_report_mapping_stats.TestMappingStatsReport) ... ok
test_number_of_plot_groups (test_pbreports_report_mapping_stats.TestMappingStatsReport) ... ok
test_number_of_tables (test_pbreports_report_mapping_stats.TestMappingStatsReport) ... ok
test_mapped_readlength_max (test_pbreports_report_mapping_stats.TestMappingStatsReportLarge) ... ok
test_mapped_readlength_mean (test_pbreports_report_mapping_stats.TestMappingStatsReportLarge) ... ok
test_mapped_readlength_n50 (test_pbreports_report_mapping_stats.TestMappingStatsReportLarge) ... ok
test_mapped_readlength_q95 (test_pbreports_report_mapping_stats.TestMappingStatsReportLarge) ... ok
test_mapped_subread_bases_n (test_pbreports_report_mapping_stats.TestMappingStatsReportLarge) ... ok
test_mapped_subread_concordance_mean (test_pbreports_report_mapping_stats.TestMappingStatsReportLarge) ... ok
test_mapped_subread_readlength_mean (test_pbreports_report_mapping_stats.TestMappingStatsReportLarge) ... ok
test_mapped_subreadlength_n50 (test_pbreports_report_mapping_stats.TestMappingStatsReportLarge) ... ok
test_number_of_attributes (test_pbreports_report_mapping_stats.TestMappingStatsReportLarge) ... ok
test_number_of_columns_in_table (test_pbreports_report_mapping_stats.TestMappingStatsReportLarge) ... ok
test_number_of_mapped_reads (test_pbreports_report_mapping_stats.TestMappingStatsReportLarge) ... ok
test_number_of_mapped_subreads (test_pbreports_report_mapping_stats.TestMappingStatsReportLarge) ... ok
test_number_of_plot_groups (test_pbreports_report_mapping_stats.TestMappingStatsReportLarge) ... ok
test_number_of_tables (test_pbreports_report_mapping_stats.TestMappingStatsReportLarge) ... ok
test_attributes_order (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_mapped_readlength_max (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_mapped_readlength_mean (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_mapped_readlength_n50 (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_mapped_readlength_q95 (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_mapped_subread_bases_n (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_mapped_subread_concordance_mean (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_mapped_subread_readlength_mean (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_mapped_subreadlength_n50 (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_number_of_attributes (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_number_of_columns_in_table (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_number_of_mapped_reads (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_number_of_mapped_subreads (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_number_of_plot_groups (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_number_of_tables (test_pbreports_report_mapping_stats.TestMappingStatsReportXML) ... ok
test_mapped_readlength_max (test_pbreports_report_mapping_stats.TestPartialEmptyBAM) ... ok
test_mapped_readlength_mean (test_pbreports_report_mapping_stats.TestPartialEmptyBAM) ... ok
test_mapped_readlength_n50 (test_pbreports_report_mapping_stats.TestPartialEmptyBAM) ... ok
test_mapped_readlength_q95 (test_pbreports_report_mapping_stats.TestPartialEmptyBAM) ... ok
test_mapped_subread_bases_n (test_pbreports_report_mapping_stats.TestPartialEmptyBAM) ... ok
test_mapped_subread_concordance_mean (test_pbreports_report_mapping_stats.TestPartialEmptyBAM) ... ok
test_mapped_subread_readlength_mean (test_pbreports_report_mapping_stats.TestPartialEmptyBAM) ... ok
test_mapped_subreadlength_n50 (test_pbreports_report_mapping_stats.TestPartialEmptyBAM) ... ok
test_number_of_attributes (test_pbreports_report_mapping_stats.TestPartialEmptyBAM) ... ok
test_number_of_columns_in_table (test_pbreports_report_mapping_stats.TestPartialEmptyBAM) ... ok
test_number_of_mapped_reads (test_pbreports_report_mapping_stats.TestPartialEmptyBAM) ... ok
test_number_of_mapped_subreads (test_pbreports_report_mapping_stats.TestPartialEmptyBAM) ... ok
test_number_of_plot_groups (test_pbreports_report_mapping_stats.TestPartialEmptyBAM) ... ok
test_number_of_tables (test_pbreports_report_mapping_stats.TestPartialEmptyBAM) ... ok
test_run_e2e (test_pbreports_report_mapping_stats.TestPbreportMappingStats) ... ok
test_run_e2e (test_pbreports_report_mapping_stats.TestPbreportMappingStatsCCS) ... ok
Like a cram test. Assert exits with 0. ... ok
Create a report object, do assertions on its properties, then assert that it gets written ... ok
test_run_e2e (test_pbreports_report_modifications.TestPbreportModifications) ... ok
test_basic (test_pbreports_report_motifs.TestIntegrationKineticsMotifs) ... ok
test_basic (test_pbreports_report_motifs.TestKineticsMotifs) ... ok
test_basic (test_pbreports_report_motifs.TestKineticsMotifsMain) ... loading data config from /home/blerch/github/pbreports/tests/nose.cfg
Loading data from /pbi/dept/secondary/siv/testdata/pbreports-unittest/data
Loading data from /pbi/dept/secondary/siv/testdata/pbreports-unittest/data
Loading data from /pbi/dept/secondary/siv/testdata/pbreports-unittest/data
log file pbreports-unittest.log
Loading data from /pbi/dept/secondary/siv/testdata/pbreports-unittest/data
[INFO] 2016-06-18 04:48:54,062Z [root _pacbio_main_runner 128] Using pbcommand v0.3.26
[INFO] 2016-06-18 04:48:54,062Z [root _pacbio_main_runner 129] completed setting up logger with <function setup_log at 0x7fc035113320>
[INFO] 2016-06-18 04:48:54,062Z [root _pacbio_main_runner 130] log opts {'file_name': None, 'level': 20}
[INFO] 2016-06-18 04:48:54,062Z [root to_motifs_report 539] starting Motif report generations with: 
GFF:/home/blerch/github/pbreports/tests/data/kinetics/motifs.gff.gz
CSV:/home/blerch/github/pbreports/tests/data/kinetics/motif_summary.csv
dir:/tmp
[INFO] 2016-06-18 04:48:54,526Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/motif_histogram.png with dpi 72
[INFO] 2016-06-18 04:48:54,882Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/motif_histogram_thumb.png with dpi 20
[INFO] 2016-06-18 04:48:55,045Z [root addQmodMotifHist 489] ('/tmp/motif_histogram.png', '/tmp/motif_histogram_thumb.png')
[INFO] 2016-06-18 04:48:55,046Z [root _motif_csv_to_records 128] Found 12 columns
[INFO] 2016-06-18 04:48:55,046Z [root _motif_csv_to_records 151] Found 9 motif records from /home/blerch/github/pbreports/tests/data/kinetics/motif_summary.csv
[INFO] 2016-06-18 04:48:55,056Z [root _write_report 577] Write report motifs to /tmp/tmpPxe44j_motif_report.json
[INFO] 2016-06-18 04:48:55,056Z [root _pacbio_main_runner 153] exiting with return code 0 in 0.99 sec.
ok
test_run_e2e (test_pbreports_report_motifs.TestToolContract) ... [INFO] 2016-06-18 04:48:56,524Z [pbcommand.testkit.core test_run_e2e 107] Resolving tool contract to RTC
[INFO] 2016-06-18 04:48:56,525Z [pbcommand.testkit.core test_run_e2e 130] running resolved contract /tmp/tmpikOMTVrtc-test/tmppup2giresolved_tool_contract.json
[INFO] 2016-06-18 04:48:56,525Z [pbcommand.testkit.core test_run_e2e 133] Running exe 'python -m pbreports.report.motifs  --resolved-tool-contract  /tmp/tmpikOMTVrtc-test/tmppup2giresolved_tool_contract.json'
[INFO] 2016-06-18 04:48:58,580Z [pbcommand.testkit.core test_run_e2e 138] Successfully completed running e2e for python -m pbreports.report.motifs  --emit-tool-contract 
ok
test_ncells_attribute (test_pbreports_report_overview.TestOverViewReport) ... [INFO] 2016-06-18 04:49:01,025Z [test_pbreports_report_overview setUp 27] {'_changelist': 'UNKNOWN',
 '_version': '0.3.26',
 'attributes': [{'id': 'overview.ncells', 'name': 'SMRT Cells', 'value': 2},
                {'id': 'overview.nmovies', 'name': 'Movies', 'value': 2}],
 'dataset_uuids': [],
 'id': 'overview',
 'plotGroups': [],
 'tables': [],
 'title': 'Report overview',
 'uuid': '8b4678db-65fe-4a48-bed9-aae6289a41fa'}
ok
test_nmovies_attribute (test_pbreports_report_overview.TestOverViewReport) ... [INFO] 2016-06-18 04:49:02,773Z [test_pbreports_report_overview setUp 27] {'_changelist': 'UNKNOWN',
 '_version': '0.3.26',
 'attributes': [{'id': 'overview.ncells', 'name': 'SMRT Cells', 'value': 2},
                {'id': 'overview.nmovies', 'name': 'Movies', 'value': 2}],
 'dataset_uuids': [],
 'id': 'overview',
 'plotGroups': [],
 'tables': [],
 'title': 'Report overview',
 'uuid': '120c2e37-fe39-4d38-9850-50c282f0ef2e'}
ok
Basic functionality test ... [INFO] 2016-06-18 04:49:04,503Z [test_pbreports_report_overview setUp 27] {'_changelist': 'UNKNOWN',
 '_version': '0.3.26',
 'attributes': [{'id': 'overview.ncells', 'name': 'SMRT Cells', 'value': 2},
                {'id': 'overview.nmovies', 'name': 'Movies', 'value': 2}],
 'dataset_uuids': [],
 'id': 'overview',
 'plotGroups': [],
 'tables': [],
 'title': 'Report overview',
 'uuid': 'a0b8681d-9f97-472f-b8e3-0410c2eb4fce'}
ok
test_basic (test_pbreports_report_overview.TestOverviewReportIntegration) ... [INFO] 2016-06-18 04:49:04,503Z [base_test_case run_backticks 66] Running cmd 'overview_report --debug /pbi/dept/secondary/siv/testdata/SA3-DS/dacetoxidans/2530923/0005_0006.subreadset.xml /tmp/tmpJ6mPBBoverview_report.json'
ok
test_run_e2e (test_pbreports_report_overview.TestOverviewToolContract) ... [INFO] 2016-06-18 04:49:09,178Z [pbcommand.testkit.core test_run_e2e 107] Resolving tool contract to RTC
[INFO] 2016-06-18 04:49:09,178Z [pbcommand.testkit.core test_run_e2e 130] running resolved contract /tmp/tmp1jkRgMrtc-test/tmpM0ypsKresolved_tool_contract.json
[INFO] 2016-06-18 04:49:09,178Z [pbcommand.testkit.core test_run_e2e 133] Running exe 'python -m pbreports.report.overview --resolved-tool-contract  /tmp/tmp1jkRgMrtc-test/tmpM0ypsKresolved_tool_contract.json'
[INFO] 2016-06-18 04:49:11,643Z [pbcommand.testkit.core test_run_e2e 138] Successfully completed running e2e for python -m pbreports.report.overview --emit-tool-contract 
ok
Like a cram test. Assert exits with 0. ... [INFO] 2016-06-18 04:49:11,644Z [test_pbreports_report_polished_assembly test_exit_code_0 75] python -m pbreports.report.polished_assembly /home/blerch/github/pbreports/tests/data/polished_assembly/alignment_summary.gff /home/blerch/github/pbreports/tests/data/polished_assembly/assembly.fastq.gz /tmp/tmpVAZ4Vmcontrol/rpt.json
ok
Test the attributes of the report ... [INFO] 2016-06-18 04:49:13,495Z [pbreports.report.polished_assembly make_polished_assembly_report 59] Starting version polished_assembly.pyc v0.4
[INFO] 2016-06-18 04:49:13,583Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpmWFMrlcontrol/polished_coverage_vs_quality.png with dpi 60
[INFO] 2016-06-18 04:49:13,652Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpmWFMrlcontrol/polished_coverage_vs_quality_thumb.png with dpi 20
ok
IOError if fasta does not exist ... [INFO] 2016-06-18 04:49:13,683Z [pbreports.report.polished_assembly make_polished_assembly_report 59] Starting version polished_assembly.pyc v0.4
ok
Like a cram test. Assert exits with 0. ... [INFO] 2016-06-18 04:49:13,684Z [test_pbreports_report_polished_assembly test_exit_code_0 75] python -m pbreports.report.polished_assembly /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/polished_assembly/alignment_summary.gff /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/polished_assembly/polished_assembly.fastq.gz /tmp/tmpvWV8ELcontrol/rpt.json
ok
Test the attributes of the report ... [INFO] 2016-06-18 04:49:17,118Z [pbreports.report.polished_assembly make_polished_assembly_report 59] Starting version polished_assembly.pyc v0.4
[INFO] 2016-06-18 04:49:18,662Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpyvDpoWcontrol/polished_coverage_vs_quality.png with dpi 60
[INFO] 2016-06-18 04:49:18,764Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpyvDpoWcontrol/polished_coverage_vs_quality_thumb.png with dpi 20
ok
IOError if fasta does not exist ... [INFO] 2016-06-18 04:49:18,800Z [pbreports.report.polished_assembly make_polished_assembly_report 59] Starting version polished_assembly.pyc v0.4
ok
Like a cram test. Assert exits with 0. ... [INFO] 2016-06-18 04:49:18,800Z [test_pbreports_report_polished_assembly test_exit_code_0 75] python -m pbreports.report.polished_assembly /home/blerch/github/pbreports/tests/data/polished_assembly/alignment_summary.gff /home/blerch/github/pbreports/tests/data/polished_assembly/assembly_quiver.fastq.gz /tmp/tmpLn11BBcontrol/rpt.json
ok
test_get_att_max_contig_length (test_pbreports_report_polished_assembly.TestPolishedAssemblyReportQuiver) ... ok
test_get_att_n_50_contig_length (test_pbreports_report_polished_assembly.TestPolishedAssemblyReportQuiver) ... ok
test_get_att_sum_contig_length (test_pbreports_report_polished_assembly.TestPolishedAssemblyReportQuiver) ... ok
Test the attributes of the report ... [INFO] 2016-06-18 04:49:20,435Z [pbreports.report.polished_assembly make_polished_assembly_report 59] Starting version polished_assembly.pyc v0.4
[INFO] 2016-06-18 04:49:20,514Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpO_l1ldcontrol/polished_coverage_vs_quality.png with dpi 60
[INFO] 2016-06-18 04:49:20,589Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpO_l1ldcontrol/polished_coverage_vs_quality_thumb.png with dpi 20
ok
IOError if fasta does not exist ... [INFO] 2016-06-18 04:49:20,626Z [pbreports.report.polished_assembly make_polished_assembly_report 59] Starting version polished_assembly.pyc v0.4
ok
test_run_e2e (test_pbreports_report_polished_assembly.TestToolContract) ... [INFO] 2016-06-18 04:49:22,077Z [pbcommand.testkit.core test_run_e2e 107] Resolving tool contract to RTC
[INFO] 2016-06-18 04:49:22,077Z [pbcommand.testkit.core test_run_e2e 130] running resolved contract /tmp/tmpyc2hZvrtc-test/tmpXfLjshresolved_tool_contract.json
[INFO] 2016-06-18 04:49:22,078Z [pbcommand.testkit.core test_run_e2e 133] Running exe 'python -m pbreports.report.polished_assembly  --resolved-tool-contract  /tmp/tmpyc2hZvrtc-test/tmpXfLjshresolved_tool_contract.json'
[INFO] 2016-06-18 04:49:23,961Z [pbcommand.testkit.core test_run_e2e 138] Successfully completed running e2e for python -m pbreports.report.polished_assembly  --emit-tool-contract 
ok
test_attribute (test_pbreports_report_report_spec.TestBadInput) ... ok
test_column (test_pbreports_report_report_spec.TestBadInput) ... ok
test_attribute (test_pbreports_report_report_spec.TestCorrectMetaReportValues) ... ok
test_column (test_pbreports_report_report_spec.TestCorrectMetaReportValues) ... ok
test_plot (test_pbreports_report_report_spec.TestCorrectMetaReportValues) ... ok
test_plotgroup (test_pbreports_report_report_spec.TestCorrectMetaReportValues) ... ok
test_table (test_pbreports_report_report_spec.TestCorrectMetaReportValues) ... ok
test_attribute (test_pbreports_report_report_spec.TestCorrectReportValues) ... ok
test_column (test_pbreports_report_report_spec.TestCorrectReportValues) ... ERROR
test_plot (test_pbreports_report_report_spec.TestCorrectReportValues) ... ERROR
test_plotgroup (test_pbreports_report_report_spec.TestCorrectReportValues) ... ERROR
test_read_specs (test_pbreports_report_report_spec.TestReadingMetaReports) ... ok
test_cell_2_inst (test_pbreports_report_sat.TestCoreFunctions) ... ok
test_mapping_stats_rpt_atts (test_pbreports_report_sat.TestCoreFunctions) ... ok
test_timestamped_moviename (test_pbreports_report_sat.TestCoreFunctions) ... ok
test_variants_rpt_atts (test_pbreports_report_sat.TestCoreFunctions) ... ok
test_exit_code_0 (test_pbreports_report_sat.TestSatRpt) ... [INFO] 2016-06-18 04:49:26,174Z [test_pbreports_report_sat test_exit_code_0 109] python -m pbreports.report.sat /tmp/tmpfLJamYsat rpt.json /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/m140905_042212_sidney_c100564852550000001823085912221377_s1_X0.aligned_subreads.bam /home/blerch/github/pbreports/tests/data/sat/variants_report.json /home/blerch/github/pbreports/tests/data/sat/mapping_stats_report.json
ok
test_get_reads_info (test_pbreports_report_sat.TestSatRpt) ... [INFO] 2016-06-18 04:49:26,187Z [root _get_reads_info 162] Indexed file - will use fast loop.
ok
inputs cannot be null or non-existent ... ok
test_exit_code_0 (test_pbreports_report_sat.TestSatRptDatasetXml) ... [INFO] 2016-06-18 04:49:27,463Z [test_pbreports_report_sat test_exit_code_0 109] python -m pbreports.report.sat /tmp/tmpvuDY1Ssat rpt.json /tmp/tmp8e_1FH.alignmentset.xml /home/blerch/github/pbreports/tests/data/sat/variants_report.json /home/blerch/github/pbreports/tests/data/sat/mapping_stats_report.json
ok
test_get_reads_info (test_pbreports_report_sat.TestSatRptDatasetXml) ... [INFO] 2016-06-18 04:49:27,476Z [root _get_reads_info 162] Indexed file - will use fast loop.
ok
inputs cannot be null or non-existent ... ok
test_run_e2e (test_pbreports_report_sat.TestSatRptToolContract) ... [INFO] 2016-06-18 04:49:28,922Z [pbcommand.testkit.core test_run_e2e 107] Resolving tool contract to RTC
[INFO] 2016-06-18 04:49:28,923Z [pbcommand.testkit.core test_run_e2e 130] running resolved contract /tmp/tmpwCHQAErtc-test/tmpM9tzwsresolved_tool_contract.json
[INFO] 2016-06-18 04:49:28,923Z [pbcommand.testkit.core test_run_e2e 133] Running exe 'python -m pbreports.report.sat  --resolved-tool-contract  /tmp/tmpwCHQAErtc-test/tmpM9tzwsresolved_tool_contract.json'
[INFO] 2016-06-18 04:49:30,426Z [pbcommand.testkit.core test_run_e2e 138] Successfully completed running e2e for python -m pbreports.report.sat  --emit-tool-contract 
ok
test_abstract_dist_shaper (test_pbreports_report_stats_xml_reports.TestXMLstatsRpts) ... ok
test_abstract_dist_shaper_float_bwidth (test_pbreports_report_stats_xml_reports.TestXMLstatsRpts) ... ok
test_adapter_exit_code_0 (test_pbreports_report_stats_xml_reports.TestXMLstatsRpts) ... [INFO] 2016-06-18 04:49:30,450Z [test_pbreports_report_stats_xml_reports test_adapter_exit_code_0 85] None
COMMAND: adapter_xml /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/datasets/subreadSetWithStats.xml foo.json
[INFO] 2016-06-18 04:49:35,202Z [test_pbreports_report_stats_xml_reports test_adapter_exit_code_0 92] adapter_xml /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/datasets/subreadSetWithStats.xml foo.json
ok
test_filter_exit_code_0 (test_pbreports_report_stats_xml_reports.TestXMLstatsRpts) ... o: ['[INFO] 2016-06-18 04:49:33,358Z [pbreports.report.adapter_xml _pacbio_main_runner 128] Using pbcommand v0.3.26', '[INFO] 2016-06-18 04:49:33,358Z [pbreports.report.adapter_xml _pacbio_main_runner 129] completed setting up logger with <function setup_log at 0x7f832fb76c80>', "[INFO] 2016-06-18 04:49:33,358Z [pbreports.report.adapter_xml _pacbio_main_runner 130] log opts {'file_name': None, 'level': 20}", '[INFO] 2016-06-18 04:49:33,358Z [pbreports.report.adapter_xml args_runner 121] Starting adapter_xml.pyc v0.1.0', '[INFO] 2016-06-18 04:49:33,358Z [pbreports.report.adapter_xml to_report 61] Analyzing XML /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/datasets/subreadSetWithStats.xml', '[INFO] 2016-06-18 04:49:34,227Z [pbreports.plot.helper _save_figures 312] Saving figure interAdapterDist0.png with dpi 72', '[INFO] 2016-06-18 04:49:34,596Z [pbreports.plot.helper _save_figures 312] Saving figure interAdapterDist0_thumb.png with dpi 20', '[INFO] 2016-06-18 04:49:34,910Z [pbreports.plot.helper _save_figures 312] Saving figure interAdapterDist1.png with dpi 72', '[INFO] 2016-06-18 04:49:35,056Z [pbreports.plot.helper _save_figures 312] Saving figure interAdapterDist1_thumb.png with dpi 20', '[INFO] 2016-06-18 04:49:35,113Z [pbreports.report.adapter_xml _pacbio_main_runner 153] exiting with return code 0 in 1.76 sec.']
c: 0
m: 
[INFO] 2016-06-18 04:49:35,203Z [test_pbreports_report_stats_xml_reports test_filter_exit_code_0 102] None
COMMAND: filter_stats_xml /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/datasets/m150430_142051_Mon_p1_b25.sts.xml foo.json
[INFO] 2016-06-18 04:49:37,646Z [test_pbreports_report_stats_xml_reports test_filter_exit_code_0 111] filter_stats_xml /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/datasets/m150430_142051_Mon_p1_b25.sts.xml foo.json
ok
test_loading_exit_code_0 (test_pbreports_report_stats_xml_reports.TestXMLstatsRpts) ... o: ['[INFO] 2016-06-18 04:49:36,824Z [pbreports.report.filter_stats_xml _pacbio_main_runner 128] Using pbcommand v0.3.26', '[INFO] 2016-06-18 04:49:36,824Z [pbreports.report.filter_stats_xml _pacbio_main_runner 129] completed setting up logger with <function setup_log at 0x7fa24924e500>', "[INFO] 2016-06-18 04:49:36,824Z [pbreports.report.filter_stats_xml _pacbio_main_runner 130] log opts {'file_name': None, 'level': 20}", '[INFO] 2016-06-18 04:49:36,824Z [pbreports.report.filter_stats_xml args_runner 274] Starting filter_stats_xml.pyc v0.1.0', '[INFO] 2016-06-18 04:49:36,824Z [pbreports.report.filter_stats_xml to_report 233] Analyzing XML /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/datasets/m150430_142051_Mon_p1_b25.sts.xml', '[INFO] 2016-06-18 04:49:36,930Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received', '[INFO] 2016-06-18 04:49:36,934Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received', '[INFO] 2016-06-18 04:49:36,938Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received', '[INFO] 2016-06-18 04:49:36,942Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received', '[INFO] 2016-06-18 04:49:36,946Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received', '[INFO] 2016-06-18 04:49:36,950Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received', '[INFO] 2016-06-18 04:49:36,955Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received', '[INFO] 2016-06-18 04:49:36,963Z [pbcore.io.dataset.DataSetReader _updateStats 213] Outdated stats XML received', '[INFO] 2016-06-18 04:49:36,966Z [pbcore.io.dataset.DataSetReader _updateStats 213] Outdated stats XML received', '[INFO] 2016-06-18 04:49:37,087Z [pbreports.plot.helper _save_figures 312] Saving figure readLenDist0.png with dpi 72', '[INFO] 2016-06-18 04:49:37,250Z [pbreports.plot.helper _save_figures 312] Saving figure readLenDist0_thumb.png with dpi 20', '[INFO] 2016-06-18 04:49:37,400Z [pbreports.plot.helper _save_figures 312] Saving figure insertLenDist0.png with dpi 72', '[INFO] 2016-06-18 04:49:37,535Z [pbreports.plot.helper _save_figures 312] Saving figure insertLenDist0_thumb.png with dpi 20', '[INFO] 2016-06-18 04:49:37,589Z [pbreports.report.filter_stats_xml _pacbio_main_runner 153] exiting with return code 0 in 0.77 sec.']
c: 0
m: 
[INFO] 2016-06-18 04:49:37,647Z [test_pbreports_report_stats_xml_reports test_loading_exit_code_0 68] None
COMMAND: loading_xml /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/datasets/m150430_142051_Mon_p1_b25.sts.xml foo.json
[INFO] 2016-06-18 04:49:38,864Z [test_pbreports_report_stats_xml_reports test_loading_exit_code_0 75] loading_xml /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/datasets/m150430_142051_Mon_p1_b25.sts.xml foo.json
ok
Test make_adapter_report with a dataset ... o: ['[INFO] 2016-06-18 04:49:38,674Z [pbreports.report.loading_xml _pacbio_main_runner 128] Using pbcommand v0.3.26', '[INFO] 2016-06-18 04:49:38,674Z [pbreports.report.loading_xml _pacbio_main_runner 129] completed setting up logger with <function setup_log at 0x7f934ed90d70>', "[INFO] 2016-06-18 04:49:38,674Z [pbreports.report.loading_xml _pacbio_main_runner 130] log opts {'file_name': None, 'level': 20}", '[INFO] 2016-06-18 04:49:38,674Z [pbreports.report.loading_xml args_runner 92] Starting loading_xml.pyc v0.1.0', '[INFO] 2016-06-18 04:49:38,674Z [pbreports.report.loading_xml to_report 40] Analyzing XML /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/datasets/m150430_142051_Mon_p1_b25.sts.xml', '[INFO] 2016-06-18 04:49:38,781Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received', '[INFO] 2016-06-18 04:49:38,786Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received', '[INFO] 2016-06-18 04:49:38,789Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received', '[INFO] 2016-06-18 04:49:38,793Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received', '[INFO] 2016-06-18 04:49:38,797Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received', '[INFO] 2016-06-18 04:49:38,801Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received', '[INFO] 2016-06-18 04:49:38,805Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received', '[INFO] 2016-06-18 04:49:38,813Z [pbcore.io.dataset.DataSetReader _updateStats 213] Outdated stats XML received', '[INFO] 2016-06-18 04:49:38,818Z [pbcore.io.dataset.DataSetReader _updateStats 213] Outdated stats XML received', '[INFO] 2016-06-18 04:49:38,836Z [pbreports.report.loading_xml _pacbio_main_runner 153] exiting with return code 0 in 0.16 sec.']
c: 0
m: 
[INFO] 2016-06-18 04:49:38,864Z [test_pbreports_report_stats_xml_reports test_make_adapter_report_dataset 249] 
        Test make_adapter_report with a dataset
        
[INFO] 2016-06-18 04:49:38,865Z [pbreports.report.adapter_xml to_report 61] Analyzing XML /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/datasets/subreadSetWithStats.xml
[INFO] 2016-06-18 04:49:39,576Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpm3LluG/interAdapterDist0.png with dpi 72
[INFO] 2016-06-18 04:49:39,922Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpm3LluG/interAdapterDist0_thumb.png with dpi 20
[INFO] 2016-06-18 04:49:40,259Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpm3LluG/interAdapterDist1.png with dpi 72
[INFO] 2016-06-18 04:49:40,409Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpm3LluG/interAdapterDist1_thumb.png with dpi 20
ok
Test the content of the filter report generated from a dataset ... [INFO] 2016-06-18 04:49:40,474Z [test_pbreports_report_stats_xml_reports test_make_filter_stats_report_dataset 308] 
        Test the content of the filter report generated from a dataset
        
[INFO] 2016-06-18 04:49:40,475Z [pbreports.report.filter_stats_xml to_report 233] Analyzing XML /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/datasets/subreadSetWithStats.xml
[INFO] 2016-06-18 04:49:40,969Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpFBa5GT/readLenDist0.png with dpi 72
[INFO] 2016-06-18 04:49:41,178Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpFBa5GT/readLenDist0_thumb.png with dpi 20
[INFO] 2016-06-18 04:49:41,401Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpFBa5GT/readLenDist1.png with dpi 72
[INFO] 2016-06-18 04:49:41,554Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpFBa5GT/readLenDist1_thumb.png with dpi 20
[INFO] 2016-06-18 04:49:42,418Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpFBa5GT/insertLenDist0.png with dpi 72
[INFO] 2016-06-18 04:49:42,783Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpFBa5GT/insertLenDist0_thumb.png with dpi 20
[INFO] 2016-06-18 04:49:43,155Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpFBa5GT/insertLenDist1.png with dpi 72
[INFO] 2016-06-18 04:49:43,278Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpFBa5GT/insertLenDist1_thumb.png with dpi 20
ok
Test the content of the filter report generated from an sts.xml ... [INFO] 2016-06-18 04:49:43,326Z [test_pbreports_report_stats_xml_reports test_make_filter_stats_report_sts_xml 276] 
        Test the content of the filter report generated from an sts.xml
        
[INFO] 2016-06-18 04:49:43,327Z [pbreports.report.filter_stats_xml to_report 233] Analyzing XML /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/datasets/m150430_142051_Mon_p1_b25.sts.xml
[INFO] 2016-06-18 04:49:43,413Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received
[INFO] 2016-06-18 04:49:43,418Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received
[INFO] 2016-06-18 04:49:43,421Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received
[INFO] 2016-06-18 04:49:43,425Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received
[INFO] 2016-06-18 04:49:43,429Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received
[INFO] 2016-06-18 04:49:43,433Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received
[INFO] 2016-06-18 04:49:43,437Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received
[INFO] 2016-06-18 04:49:43,445Z [pbcore.io.dataset.DataSetReader _updateStats 213] Outdated stats XML received
[INFO] 2016-06-18 04:49:43,449Z [pbcore.io.dataset.DataSetReader _updateStats 213] Outdated stats XML received
[INFO] 2016-06-18 04:49:43,690Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpXdTfzt/readLenDist0.png with dpi 72
[INFO] 2016-06-18 04:49:43,825Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpXdTfzt/readLenDist0_thumb.png with dpi 20
[INFO] 2016-06-18 04:49:43,972Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpXdTfzt/insertLenDist0.png with dpi 72
[INFO] 2016-06-18 04:49:44,108Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpXdTfzt/insertLenDist0_thumb.png with dpi 20
ok
Test that an IOError is thrown if no csv exists. ... [INFO] 2016-06-18 04:49:44,163Z [test_pbreports_report_stats_xml_reports test_make_loading_report_no_csv 124] 
        Test that an IOError is thrown if no csv exists.
        
[INFO] 2016-06-18 04:49:44,163Z [pbreports.report.loading_xml to_report 40] Analyzing XML foo
Including unresolved file: foo
[ERROR] 2016-06-18 04:49:44,163Z [pbcore.io.dataset.DataSetReader resolveLocation 27] Including unresolved file: foo
ok
Test the content of the loading report generated from a dataset ... [INFO] 2016-06-18 04:49:44,164Z [test_pbreports_report_stats_xml_reports test_make_loading_report_with_dataset 185] 
        Test the content of the loading report generated from a dataset
        
[INFO] 2016-06-18 04:49:44,165Z [pbreports.report.loading_xml to_report 40] Analyzing XML /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/datasets/subreadSetWithStats.xml
ok
Test the content of the loading report generated from a sts.xml ... [INFO] 2016-06-18 04:49:44,208Z [test_pbreports_report_stats_xml_reports test_make_loading_report_with_sts_xml 136] 
        Test the content of the loading report generated from a sts.xml
        
[INFO] 2016-06-18 04:49:44,209Z [pbreports.report.loading_xml to_report 40] Analyzing XML /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/datasets/m150430_142051_Mon_p1_b25.sts.xml
[INFO] 2016-06-18 04:49:44,291Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received
[INFO] 2016-06-18 04:49:44,296Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received
[INFO] 2016-06-18 04:49:44,300Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received
[INFO] 2016-06-18 04:49:44,303Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received
[INFO] 2016-06-18 04:49:44,307Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received
[INFO] 2016-06-18 04:49:44,311Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received
[INFO] 2016-06-18 04:49:44,316Z [pbcore.io.dataset.DataSetReader _updateStats 201] Outdated stats XML received
[INFO] 2016-06-18 04:49:44,323Z [pbcore.io.dataset.DataSetReader _updateStats 213] Outdated stats XML received
[INFO] 2016-06-18 04:49:44,327Z [pbcore.io.dataset.DataSetReader _updateStats 213] Outdated stats XML received
ok
test_reports_with_fixed_bins (test_pbreports_report_stats_xml_reports.TestXMLstatsRpts) ... [WARNING] 2016-06-18 04:49:44,569Z [pbcore.io.dataset.DataSetIO _checkObjMetadata 1336] Future warning: merging will require Version numbers for both DataSets
nbins must be greater than 0
[ERROR] 2016-06-18 04:49:44,627Z [pbreports.util dist_shaper 567] nbins must be greater than 0

[ERROR] 2016-06-18 04:49:44,639Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:44,651Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:44,663Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:44,675Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:44,687Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:44,699Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:44,711Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:44,723Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:44,735Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:44,747Z [pbreports.util dist_shaper 567] 
nbins must be greater than 0
[ERROR] 2016-06-18 04:49:44,759Z [pbreports.util dist_shaper 567] nbins must be greater than 0
nbins must be greater than 0
[ERROR] 2016-06-18 04:49:44,921Z [pbreports.util dist_shaper 567] nbins must be greater than 0
nbins must be greater than 0
[ERROR] 2016-06-18 04:49:45,074Z [pbreports.util dist_shaper 567] nbins must be greater than 0
[WARNING] 2016-06-18 04:49:45,410Z [pbcore.io.dataset.DataSetIO _checkObjMetadata 1336] Future warning: merging will require Version numbers for both DataSets
nbins must be greater than 0
[ERROR] 2016-06-18 04:49:45,467Z [pbreports.util dist_shaper 567] nbins must be greater than 0

[ERROR] 2016-06-18 04:49:45,479Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:45,491Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:45,503Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:45,515Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:45,527Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:45,539Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:45,551Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:45,563Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:45,575Z [pbreports.util dist_shaper 567] 

[ERROR] 2016-06-18 04:49:45,587Z [pbreports.util dist_shaper 567] 
nbins must be greater than 0
[ERROR] 2016-06-18 04:49:45,599Z [pbreports.util dist_shaper 567] nbins must be greater than 0
nbins must be greater than 0
[ERROR] 2016-06-18 04:49:45,761Z [pbreports.util dist_shaper 567] nbins must be greater than 0
nbins must be greater than 0
[ERROR] 2016-06-18 04:49:45,915Z [pbreports.util dist_shaper 567] nbins must be greater than 0
ok
test_run_e2e (test_pbreports_report_top_variants.TestPbreportTopVariants) ... [INFO] 2016-06-18 04:49:47,123Z [pbcommand.testkit.core test_run_e2e 107] Resolving tool contract to RTC
[INFO] 2016-06-18 04:49:47,124Z [pbcommand.testkit.core test_run_e2e 130] running resolved contract /tmp/tmpZMBa7Prtc-test/tmp0eCF8Presolved_tool_contract.json
[INFO] 2016-06-18 04:49:47,124Z [pbcommand.testkit.core test_run_e2e 133] Running exe 'python -m pbreports.report.top_variants  --resolved-tool-contract  /tmp/tmpZMBa7Prtc-test/tmp0eCF8Presolved_tool_contract.json'
[INFO] 2016-06-18 04:49:48,125Z [pbcommand.testkit.core test_run_e2e 138] Successfully completed running e2e for python -m pbreports.report.top_variants  --emit-tool-contract 
ok
Like a cram test. Assert exits with 0. ... [INFO] 2016-06-18 04:49:48,126Z [test_pbreports_report_top_variants test_exit_code_0 216] python -m pbreports.report.top_variants /tmp/tmppl1dRQtopvariants rpt.json /home/blerch/github/pbreports/tests/data/variants/variants.gff.gz /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/lambdaNEB.fa
[INFO] 2016-06-18 04:49:48,126Z [base_test_case run_backticks 66] Running cmd 'python -m pbreports.report.top_variants /tmp/tmppl1dRQtopvariants rpt.json /home/blerch/github/pbreports/tests/data/variants/variants.gff.gz /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/lambdaNEB.fa'
ok
Like a cram test. Create the minor report in a subprocess. Assert that the report is correct. ... SKIP: TEMPORARILY DISABLED
Like a cram test. Assert exits with 0 with ReferenceSet XML ... [INFO] 2016-06-18 04:49:49,198Z [test_pbreports_report_top_variants test_exit_code_0_referenceset 234] python -m pbreports.report.top_variants /tmp/tmp5Sxkpbtopvariants rpt.json /home/blerch/github/pbreports/tests/data/variants/variants.gff.gz /tmp/tmp5Sxkpbtopvariants/refset.xml
[INFO] 2016-06-18 04:49:49,198Z [base_test_case run_backticks 66] Running cmd 'python -m pbreports.report.top_variants /tmp/tmp5Sxkpbtopvariants rpt.json /home/blerch/github/pbreports/tests/data/variants/variants.gff.gz /tmp/tmp5Sxkpbtopvariants/refset.xml'
ok
Like a cram test. Assert exits with 0. This creates the 'top corrections' report, ... [INFO] 2016-06-18 04:49:50,480Z [test_pbreports_report_top_variants test_exit_code_0_top_corrections 250] python -m pbreports.report.top_variants /tmp/tmpjvt0mZtopvariants rpt.json /home/blerch/github/pbreports/tests/data/variants/variants.gff.gz /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/lambdaNEB.fa
ok
Call the main report generation method with minor kwarg==True. Deserialize report, check content. ... ok
Call the main report generation method. Deserialize report, check content. ... ok
input gff and ref must be non-null and exist ... ok
in inputs ... ok
Test the length and values of a table produced by the minor variant table builder ... ok
test_variant_finder (test_pbreports_report_top_variants.TestTopVariantsReport) ... ok
Test the length and values of a table produced by the standard variant table builder ... ok
Like a cram test. Assert exits with 0. ... [INFO] 2016-06-18 04:49:51,810Z [test_pbreports_report_top_variants test_exit_code_0 216] python -m pbreports.report.top_variants /tmp/tmpseszWgtopvariants rpt.json /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/topvariants/variants.gff.gz /pbi/dept/secondary/siv/references/ecoliK12_pbi_March2013/sequence/ecoliK12_pbi_March2013.fasta
[INFO] 2016-06-18 04:49:51,810Z [base_test_case run_backticks 66] Running cmd 'python -m pbreports.report.top_variants /tmp/tmpseszWgtopvariants rpt.json /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/topvariants/variants.gff.gz /pbi/dept/secondary/siv/references/ecoliK12_pbi_March2013/sequence/ecoliK12_pbi_March2013.fasta'
ok
Like a cram test. Create the minor report in a subprocess. Assert that the report is correct. ... SKIP: TEMPORARILY DISABLED
Like a cram test. Assert exits with 0 with ReferenceSet XML ... [INFO] 2016-06-18 04:49:53,071Z [test_pbreports_report_top_variants test_exit_code_0_referenceset 234] python -m pbreports.report.top_variants /tmp/tmpJCRiz6topvariants rpt.json /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/topvariants/variants.gff.gz /tmp/tmpJCRiz6topvariants/refset.xml
[INFO] 2016-06-18 04:49:53,072Z [base_test_case run_backticks 66] Running cmd 'python -m pbreports.report.top_variants /tmp/tmpJCRiz6topvariants rpt.json /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/topvariants/variants.gff.gz /tmp/tmpJCRiz6topvariants/refset.xml'
ok
Like a cram test. Assert exits with 0. This creates the 'top corrections' report, ... [INFO] 2016-06-18 04:49:54,062Z [test_pbreports_report_top_variants test_exit_code_0_top_corrections 250] python -m pbreports.report.top_variants /tmp/tmpGZONr4topvariants rpt.json /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/topvariants/variants.gff.gz /pbi/dept/secondary/siv/references/ecoliK12_pbi_March2013/sequence/ecoliK12_pbi_March2013.fasta
ok
Call the main report generation method with minor kwarg==True. Deserialize report, check content. ... ok
Call the main report generation method. Deserialize report, check content. ... ok
input gff and ref must be non-null and exist ... ok
in inputs ... ok
test_minor_variant_table_builder (test_pbreports_report_top_variants.TestTopVariantsReportEcoli) ... SKIP: IGNORE
test_variant_finder (test_pbreports_report_top_variants.TestTopVariantsReportEcoli) ... ok
Test the length and values of a table produced by the standard variant table builder ... ok
test_run_e2e (test_pbreports_report_variants.TestToolContract) ... [INFO] 2016-06-18 04:49:56,296Z [pbcommand.testkit.core test_run_e2e 107] Resolving tool contract to RTC
[INFO] 2016-06-18 04:49:56,296Z [pbcommand.testkit.core test_run_e2e 130] running resolved contract /tmp/tmpnp3NG3rtc-test/tmpGE0njjresolved_tool_contract.json
[INFO] 2016-06-18 04:49:56,297Z [pbcommand.testkit.core test_run_e2e 133] Running exe 'python -m pbreports.report.variants --resolved-tool-contract  /tmp/tmpnp3NG3rtc-test/tmpGE0njjresolved_tool_contract.json'
[INFO] 2016-06-18 04:49:59,146Z [pbcommand.testkit.core test_run_e2e 138] Successfully completed running e2e for python -m pbreports.report.variants --emit-tool-contract 
ok
Test that ERR information gets added to the ref_data dict ... [INFO] 2016-06-18 04:49:59,152Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /home/blerch/github/pbreports/tests/data/variants/alignment_summary.gff
ok
Test that plotGroup of variants plots is created as expected ... [INFO] 2016-06-18 04:49:59,175Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /home/blerch/github/pbreports/tests/data/variants/alignment_summary.gff
[INFO] 2016-06-18 04:49:59,769Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpKEfOc7variants/variants_plot_935b383a75c999221678e79f2bafcf9c.png with dpi 60
[INFO] 2016-06-18 04:49:59,959Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpKEfOc7variants/variants_plot_935b383a75c999221678e79f2bafcf9c_thumb.png with dpi 20
ok
Like a cram test. Assert exits with 0. ... [INFO] 2016-06-18 04:50:00,096Z [base_test_case run_backticks 66] Running cmd 'python -m pbreports.report.variants /tmp/tmpfRUAcJvariants rpt.json /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/lambdaNEB.fa /home/blerch/github/pbreports/tests/data/variants/alignment_summary.gff /home/blerch/github/pbreports/tests/data/variants/variants.gff.gz'
ok
Like a cram test. Assert exits with 0 with ReferenceSet XML ... [INFO] 2016-06-18 04:50:02,363Z [base_test_case run_backticks 66] Running cmd 'python -m pbreports.report.variants /tmp/tmpUt6JFOvariants rpt.json /tmp/tmpUt6JFOvariants/refset.xml /home/blerch/github/pbreports/tests/data/variants/alignment_summary.gff /home/blerch/github/pbreports/tests/data/variants/variants.gff.gz'
ok
Test the dicts returned from parsing the alignment_summary gff ... [INFO] 2016-06-18 04:50:04,571Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /home/blerch/github/pbreports/tests/data/variants/alignment_summary.gff
ok
Test the data in the table object and the attributes ... [INFO] 2016-06-18 04:50:04,584Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /home/blerch/github/pbreports/tests/data/variants/alignment_summary.gff
[INFO] 2016-06-18 04:50:04,596Z [pbreports.report.variants _get_consensus_table_and_attributes 311] length 48502.0
[INFO] 2016-06-18 04:50:04,596Z [pbreports.report.variants _get_consensus_table_and_attributes 312] gaps 0.0
[INFO] 2016-06-18 04:50:04,596Z [pbreports.report.variants _get_consensus_table_and_attributes 313] errors 5.0
ok
Test the data in the table object and the attributes ... [INFO] 2016-06-18 04:50:04,601Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /home/blerch/github/pbreports/tests/data/variants/alignment_summary.gff
[INFO] 2016-06-18 04:50:04,614Z [pbreports.report.variants _get_consensus_table_and_attributes 311] length 48502.0
[INFO] 2016-06-18 04:50:04,614Z [pbreports.report.variants _get_consensus_table_and_attributes 312] gaps 0.0
[INFO] 2016-06-18 04:50:04,614Z [pbreports.report.variants _get_consensus_table_and_attributes 313] errors 5.0
ok
Create the legend png ... [INFO] 2016-06-18 04:50:04,617Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /home/blerch/github/pbreports/tests/data/variants/alignment_summary.gff
[INFO] 2016-06-18 04:50:04,766Z [test_pbreports_report_variants test_legend 265] legend path: /tmp/tmpHZzZclvariants/variants_plot_legend.png
ok
Create a report object, do assertions on its properties, then assert that it gets written ... [INFO] 2016-06-18 04:50:04,770Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /home/blerch/github/pbreports/tests/data/variants/alignment_summary.gff
[INFO] 2016-06-18 04:50:04,786Z [pbreports.report.variants _get_consensus_table_and_attributes 311] length 48502.0
[INFO] 2016-06-18 04:50:04,786Z [pbreports.report.variants _get_consensus_table_and_attributes 312] gaps 0.0
[INFO] 2016-06-18 04:50:04,786Z [pbreports.report.variants _get_consensus_table_and_attributes 313] errors 5.0
[INFO] 2016-06-18 04:50:05,376Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpGVqN0mvariants/variants_plot_935b383a75c999221678e79f2bafcf9c.png with dpi 60
[INFO] 2016-06-18 04:50:05,562Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpGVqN0mvariants/variants_plot_935b383a75c999221678e79f2bafcf9c_thumb.png with dpi 20
ok
inputs cannot be null or non-existent ... ok
Test top contigs from ref ... ok
Test that ERR information gets added to the ref_data dict ... [INFO] 2016-06-18 04:50:05,712Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/variants/alignment_summary.gff
ok
Test that plotGroup of variants plots is created as expected ... [INFO] 2016-06-18 04:50:05,821Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/variants/alignment_summary.gff
[INFO] 2016-06-18 04:50:07,726Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmp8CTsXQvariants/variants_plot_f89645c3ca682470d17770a1655e74d7.png with dpi 60
[INFO] 2016-06-18 04:50:08,346Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmp8CTsXQvariants/variants_plot_f89645c3ca682470d17770a1655e74d7_thumb.png with dpi 20
ok
Like a cram test. Assert exits with 0. ... [INFO] 2016-06-18 04:50:08,918Z [base_test_case run_backticks 66] Running cmd 'python -m pbreports.report.variants /tmp/tmp9KVIdsvariants rpt.json /pbi/dept/secondary/siv/references/ecoliK12_pbi_March2013/sequence/ecoliK12_pbi_March2013.fasta /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/variants/alignment_summary.gff /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/variants/variants.gff.gz'
ok
Like a cram test. Assert exits with 0 with ReferenceSet XML ... [INFO] 2016-06-18 04:50:13,454Z [base_test_case run_backticks 66] Running cmd 'python -m pbreports.report.variants /tmp/tmp_EpNoOvariants rpt.json /tmp/tmp_EpNoOvariants/refset.xml /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/variants/alignment_summary.gff /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/variants/variants.gff.gz'
ok
Test the dicts returned from parsing the alignment_summary gff ... [INFO] 2016-06-18 04:50:18,126Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/variants/alignment_summary.gff
ok
Test the data in the table object and the attributes ... [INFO] 2016-06-18 04:50:18,171Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/variants/alignment_summary.gff
[INFO] 2016-06-18 04:50:18,218Z [pbreports.report.variants _get_consensus_table_and_attributes 311] length 4642522.0
[INFO] 2016-06-18 04:50:18,218Z [pbreports.report.variants _get_consensus_table_and_attributes 312] gaps 0.0
[INFO] 2016-06-18 04:50:18,218Z [pbreports.report.variants _get_consensus_table_and_attributes 313] errors 9.0
ok
Test the data in the table object and the attributes ... [INFO] 2016-06-18 04:50:18,222Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/variants/alignment_summary.gff
[INFO] 2016-06-18 04:50:18,267Z [pbreports.report.variants _get_consensus_table_and_attributes 311] length 4642522.0
[INFO] 2016-06-18 04:50:18,267Z [pbreports.report.variants _get_consensus_table_and_attributes 312] gaps 0.0
[INFO] 2016-06-18 04:50:18,267Z [pbreports.report.variants _get_consensus_table_and_attributes 313] errors 9.0
ok
Create the legend png ... [INFO] 2016-06-18 04:50:18,271Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/variants/alignment_summary.gff
[INFO] 2016-06-18 04:50:18,450Z [test_pbreports_report_variants test_legend 265] legend path: /tmp/tmppnNP7gvariants/variants_plot_legend.png
ok
Create a report object, do assertions on its properties, then assert that it gets written ... [INFO] 2016-06-18 04:50:18,454Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/variants/alignment_summary.gff
[INFO] 2016-06-18 04:50:18,504Z [pbreports.report.variants _get_consensus_table_and_attributes 311] length 4642522.0
[INFO] 2016-06-18 04:50:18,504Z [pbreports.report.variants _get_consensus_table_and_attributes 312] gaps 0.0
[INFO] 2016-06-18 04:50:18,504Z [pbreports.report.variants _get_consensus_table_and_attributes 313] errors 9.0
[INFO] 2016-06-18 04:50:20,576Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpXpHDjLvariants/variants_plot_f89645c3ca682470d17770a1655e74d7.png with dpi 60
[INFO] 2016-06-18 04:50:21,218Z [pbreports.plot.helper _save_figures 312] Saving figure /tmp/tmpXpHDjLvariants/variants_plot_f89645c3ca682470d17770a1655e74d7_thumb.png with dpi 20
ok
inputs cannot be null or non-existent ... ok
Test top contigs from ref ... ok
Test the dicts returned from parsing the alignment_summary gff ... [INFO] 2016-06-18 04:50:22,853Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/summarizeConsensus/alignment_summary_variants_big_chr.gff
ok
Test the data in the table object and the attributes ... [INFO] 2016-06-18 04:50:24,868Z [pbreports.report.variants _extract_alignment_summ_data 131] Reading GFF data from /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/summarizeConsensus/alignment_summary_variants_big_chr.gff
[INFO] 2016-06-18 04:50:32,067Z [pbreports.report.variants _get_consensus_table_and_attributes 311] length 200000000.0
[INFO] 2016-06-18 04:50:32,067Z [pbreports.report.variants _get_consensus_table_and_attributes 312] gaps 0.0
[INFO] 2016-06-18 04:50:32,067Z [pbreports.report.variants _get_consensus_table_and_attributes 313] errors 100000.0
ok
inputs cannot be null or non-existent ... ok
Test the list of seq ids ordered by len ... ok
test_help (test_pbreports_summarize_compare_by_movie.TestHelp) ... [INFO] 2016-06-18 04:50:32,068Z [base_test_case run_backticks 66] Running cmd 'summarize_compare_by_movie --help'
ok
test_basic (test_pbreports_summarize_compare_by_movie.TestIntegrationSummarizeCompareByMovie) ... [INFO] 2016-06-18 04:50:33,727Z [base_test_case run_backticks 66] Running cmd 'summarize_compare_by_movie --debug --fofn=/pbi/dept/secondary/siv/testdata/pbreports-unittest/data/control/summarize_compare_by_movie/input.fofn /pbi/dept/secondary/siv/testdata/pbreports-unittest/data/control/summarize_compare_by_movie/control_reads.cmp.h5 /tmp/tmpdyoWyb_summarize_by_movie.csv'
ok
test_basic (test_pbreports_summarize_compare_by_movie.TestSummarizeCompareByMovie) ... [DEBUG] 2016-06-18 04:50:38,700 [pbreports.report.summarize_compare_by_movie main 767] Namespace(cmp_h5='/pbi/dept/secondary/siv/testdata/pbreports-unittest/data/control/summarize_compare_by_movie/control_reads.cmp.h5', debug=True, external=False, fofn='/pbi/dept/secondary/siv/testdata/pbreports-unittest/data/control/summarize_compare_by_movie/input.fofn', output_csv='/tmp/tmpiRnAyi_summarize_by_movie.csv')
[INFO] 2016-06-18 04:50:38,700 [pbreports.report.summarize_compare_by_movie _get_movie_stats_from_movie_files 531] Getting movie stats from /pbi/dept/secondary/siv/testdata/LIMS/2311209/0001/Analysis_Results/m120201_042231_42129_c100275262550000001523007907041260_s1_p0.bas.h5
[INFO] 2016-06-18 04:50:38,700Z [pbreports.report.summarize_compare_by_movie _get_movie_stats_from_movie_files 531] Getting movie stats from /pbi/dept/secondary/siv/testdata/LIMS/2311209/0001/Analysis_Results/m120201_042231_42129_c100275262550000001523007907041260_s1_p0.bas.h5
[INFO] 2016-06-18 04:50:38,700 [pbreports.report.summarize_compare_by_movie _get_movie_stats_from_movie_files 533] <MovieStats m120201_042231_42129_c100275262550000001523007907041260_s1_p0 chip:0001 instrument:42129 set:s1 part:p0 type:NA date:120201 >
[INFO] 2016-06-18 04:50:38,700Z [pbreports.report.summarize_compare_by_movie _get_movie_stats_from_movie_files 533] <MovieStats m120201_042231_42129_c100275262550000001523007907041260_s1_p0 chip:0001 instrument:42129 set:s1 part:p0 type:NA date:120201 >
[INFO] 2016-06-18 04:50:38,701 [pbreports.report.summarize_compare_by_movie run 715] {   'm120201_042231_42129_c100275262550000001523007907041260_s1_p0': <MovieStats m120201_042231_42129_c100275262550000001523007907041260_s1_p0 chip:0001 instrument:42129 set:s1 part:p0 type:NA date:120201 >}
[INFO] 2016-06-18 04:50:38,701Z [pbreports.report.summarize_compare_by_movie run 715] {   'm120201_042231_42129_c100275262550000001523007907041260_s1_p0': <MovieStats m120201_042231_42129_c100275262550000001523007907041260_s1_p0 chip:0001 instrument:42129 set:s1 part:p0 type:NA date:120201 >}
[WARNING] 2016-06-18 04:50:38,710 [pbreports.report.summarize_compare_by_movie _log_once 129] unable to get zScore from alignment ID 1 from movie
[WARNING] 2016-06-18 04:50:38,710Z [pbreports.report.summarize_compare_by_movie _log_once 129] unable to get zScore from alignment ID 1 from movie
[INFO] 2016-06-18 04:50:42,608 [pbreports.report.summarize_compare_by_movie _log_summary 692] <MovieStats m120201_042231_42129_c100275262550000001523007907041260_s1_p0 chip:0001 instrument:42129 set:s1 part:p0 type:NA date:120201 >
[INFO] 2016-06-18 04:50:42,608Z [pbreports.report.summarize_compare_by_movie _log_summary 692] <MovieStats m120201_042231_42129_c100275262550000001523007907041260_s1_p0 chip:0001 instrument:42129 set:s1 part:p0 type:NA date:120201 >
[INFO] 2016-06-18 04:50:42,609 [pbreports.report.summarize_compare_by_movie run 731] Writing output to CSV file /tmp/tmpiRnAyi_summarize_by_movie.csv
[INFO] 2016-06-18 04:50:42,609Z [pbreports.report.summarize_compare_by_movie run 731] Writing output to CSV file /tmp/tmpiRnAyi_summarize_by_movie.csv
[INFO] 2016-06-18 04:50:42,609 [pbreports.report.summarize_compare_by_movie run 746] Completed writing CSV to /tmp/tmpiRnAyi_summarize_by_movie.csv
[INFO] 2016-06-18 04:50:42,609Z [pbreports.report.summarize_compare_by_movie run 746] Completed writing CSV to /tmp/tmpiRnAyi_summarize_by_movie.csv
[INFO] 2016-06-18 04:50:42,609 [pbreports.report.summarize_compare_by_movie main 781] completed summarize_compare_by_movie.pyc v2.0 with exit code 0 in 3.91 sec.
[INFO] 2016-06-18 04:50:42,609Z [pbreports.report.summarize_compare_by_movie main 781] completed summarize_compare_by_movie.pyc v2.0 with exit code 0 in 3.91 sec.
ok
Test that alignments for each refGroupID in the BAM match the interval_list. ... ok
Test that all alignments end up in the list. ... ok
Test that the regions and calculated coverages are the same for both the bfx and pbpy summarize_coverage results. ... ok
Test that the metadata lines match those from the pbpy version of summarize_coverage. ... ok
Test the counting of contiguous gaps in the coverage array. ... ok
Test random coverage arrays for contiguous gap counting. ... ok
Test the pretty value is near the ugly value. ... ok
Test that intervals add up correctly and are interpreted as half-open. ... ok
Test that interval bounds are shifted appropriately given the region start and end. ... ok
Like a cram test. Assert exits with 0, even though region size is 0 See ... [INFO] 2016-06-18 04:50:46,338Z [test_pbreports_summarize_coverage test_exit_code_0 238] summarize_coverage --region_size=0 --num_regions=500 /tmp/tmpF5ST29.alignmentset.xml /home/blerch/pitchfork/deployment/lib/python2.7/site-packages/pbcore/data/lambdaNEB.fa /tmp/tmpyZhOE1summ_cov/gff
ok
Test that force_num_regions works. ... ok
Test that when force_num_regions is False, MAX_NUM_REGIONS is used to set region size. ... ok
Test that a non-zero region_size takes precedence over other options. ... ok
test_run_e2e (test_pbreports_summarize_coverage.TestSummarizeCoverage) ... [INFO] 2016-06-18 04:50:47,379Z [pbcommand.testkit.core test_run_e2e 107] Resolving tool contract to RTC
[INFO] 2016-06-18 04:50:47,380Z [pbcommand.testkit.core test_run_e2e 130] running resolved contract /tmp/tmpYyww7Ortc-test/tmpAYO01uresolved_tool_contract.json
[INFO] 2016-06-18 04:50:47,380Z [pbcommand.testkit.core test_run_e2e 133] Running exe 'python -m pbreports.report.summarize_coverage.summarize_coverage  --resolved-tool-contract  /tmp/tmpYyww7Ortc-test/tmpAYO01uresolved_tool_contract.json'
[INFO] 2016-06-18 04:50:48,548Z [pbcommand.testkit.core test_run_e2e 138] Successfully completed running e2e for python -m pbreports.report.summarize_coverage.summarize_coverage  --emit-tool-contract 
ok
test_run_e2e (test_pbreports_summarize_coverage.TestSummarizeCoverageCCS) ... [INFO] 2016-06-18 04:50:49,444Z [pbcommand.testkit.core test_run_e2e 107] Resolving tool contract to RTC
[INFO] 2016-06-18 04:50:49,445Z [pbcommand.testkit.core test_run_e2e 130] running resolved contract /tmp/tmp4NtSzyrtc-test/tmp3bUcCMresolved_tool_contract.json
[INFO] 2016-06-18 04:50:49,445Z [pbcommand.testkit.core test_run_e2e 133] Running exe 'python -m pbreports.report.summarize_coverage.ccs --resolved-tool-contract  /tmp/tmp4NtSzyrtc-test/tmp3bUcCMresolved_tool_contract.json'
[INFO] 2016-06-18 04:50:50,501Z [pbcommand.testkit.core test_run_e2e 138] Successfully completed running e2e for python -m pbreports.report.summarize_coverage.ccs --emit-tool-contract 
ok
test_01_compute_n50 (test_pbreports_util.TestFunctions) ... ok
test_02_compute_n50 (test_pbreports_util.TestFunctions) ... ok
test_accuracy_as_phred_qv (test_pbreports_util.TestUtil) ... ok
Test getting N50 from file ... ok
Test getting N50 from length list ... ok
Test getting num reads and total readlength ... ok
Parse a cell name from a movie name ... [INFO] 2016-06-18 04:50:50,552Z [test_pbreports_util test_movie_2_cell 150] 
        Parse a cell name from a movie name
        
ok
Test: Return abspath if file found ... ok
Test: Raise IOError if file not found ... ok
Test: Return abspath if file found and not empty ... ok
Test: Raise IOError if file found but empty ... ok
Test: Raise IOError if output does not exist ... [INFO] 2016-06-18 04:50:50,739Z [test_pbreports_util test_validate_output_dir 129] 
        Test: Raise IOError if output does not exist
        
ok
Test: Raise ValueError if report has path sep ... [INFO] 2016-06-18 04:50:50,807Z [test_pbreports_util test_validate_report 108] 
        Test: Raise ValueError if report has path sep
        
ok
test_run_e2e (test_tool_contract_amplicon_analysis.TestAmpliconAnalysisConsensus) ... [INFO] 2016-06-18 04:50:51,547Z [pbcommand.testkit.core test_run_e2e 107] Resolving tool contract to RTC
[INFO] 2016-06-18 04:50:51,547Z [pbcommand.testkit.core test_run_e2e 130] running resolved contract /tmp/tmpBEpQOartc-test/tmprPCGX4resolved_tool_contract.json
[INFO] 2016-06-18 04:50:51,547Z [pbcommand.testkit.core test_run_e2e 133] Running exe 'python -m pbreports.report.amplicon_analysis_consensus  --resolved-tool-contract  /tmp/tmpBEpQOartc-test/tmprPCGX4resolved_tool_contract.json'
[INFO] 2016-06-18 04:50:52,630Z [pbcommand.testkit.core test_run_e2e 138] Successfully completed running e2e for python -m pbreports.report.amplicon_analysis_consensus  --emit-tool-contract 
ok
test_run_e2e (test_tool_contract_amplicon_analysis.TestAmpliconAnalysisInput) ... [INFO] 2016-06-18 04:50:53,281Z [pbcommand.testkit.core test_run_e2e 107] Resolving tool contract to RTC
[INFO] 2016-06-18 04:50:53,282Z [pbcommand.testkit.core test_run_e2e 130] running resolved contract /tmp/tmpJP42Yartc-test/tmpLoCu41resolved_tool_contract.json
[INFO] 2016-06-18 04:50:53,282Z [pbcommand.testkit.core test_run_e2e 133] Running exe 'python -m pbreports.report.amplicon_analysis_input  --resolved-tool-contract  /tmp/tmpJP42Yartc-test/tmpLoCu41resolved_tool_contract.json'
[INFO] 2016-06-18 04:50:53,816Z [pbcommand.testkit.core test_run_e2e 138] Successfully completed running e2e for python -m pbreports.report.amplicon_analysis_input  --emit-tool-contract 
ok
test_run_e2e (test_tool_contract_amplicon_analysis.TestAmpliconAnalysisTiming) ... [INFO] 2016-06-18 04:50:54,529Z [pbcommand.testkit.core test_run_e2e 107] Resolving tool contract to RTC
[INFO] 2016-06-18 04:50:54,529Z [pbcommand.testkit.core test_run_e2e 130] running resolved contract /tmp/tmpZZnSTgrtc-test/tmpzhDXt8resolved_tool_contract.json
[INFO] 2016-06-18 04:50:54,529Z [pbcommand.testkit.core test_run_e2e 133] Running exe 'python -m pbreports.report.amplicon_analysis_timing  --resolved-tool-contract  /tmp/tmpZZnSTgrtc-test/tmpzhDXt8resolved_tool_contract.json'
INFO:__main__:Successfully loaded resolved tool contract from ['--resolved-tool-contract', '/tmp/tmpZZnSTgrtc-test/tmpzhDXt8resolved_tool_contract.json']
INFO:__main__:Using pbcommand v0.3.26
INFO:__main__:completed setting up logger with <function <lambda> at 0x7f6555541b18>
INFO:__main__:log opts {'file_name': None, 'level': u'INFO'}
INFO:__main__:Running amplicon_analysis_timing.py v0.1.1.
INFO:__main__:Generating Timing report v0.1.1 from logfile '/home/blerch/github/pbreports/tests/data/amplicon_analysis_timing/amplicon_analysis.log'
INFO:__main__:
Table id:result_table
----------------------------------------------
Sample  Hours  Minutes  Total Time (seconds)  
----------------------------------------------
0        0       41        2462                  
Mean     0       20        1231                  
Median   0       41        2462                  
Total    0       49        2967                  
INFO:__main__:{'_changelist': 'UNKNOWN',
 '_version': '0.3.26',
 'attributes': [],
 'dataset_uuids': [],
 'id': 'amplicon_analysis_timing',
 'plotGroups': [],
 'tables': [{'columns': [{'header': 'Sample',
                          'id': 'amplicon_analysis_timing.result_table.barcode_col',
                          'values': ['0', 'Mean', 'Median', 'Total']},
                         {'header': 'Hours',
                          'id': 'amplicon_analysis_timing.result_table.hour_col',
                          'values': [0, 0, 0, 0]},
                         {'header': 'Minutes',
                          'id': 'amplicon_analysis_timing.result_table.minute_col',
                          'values': [41, 20, 41, 49]},
                         {'header': 'Total Time (seconds)',
                          'id': 'amplicon_analysis_timing.result_table.second_col',
                          'values': [2462, 1231, 2462, 2967]}],
             'id': 'amplicon_analysis_timing.result_table',
             'title': 'Amplicon Analysis Timing Summary'}],
 'title': 'Report amplicon_analysis_timing',
 'uuid': 'eb05982a-5571-447c-acc6-be18f77d09a1'}
INFO:__main__:exiting with return code 0 in 0.01 sec.
INFO:__main__:Completed running resolved contract. <ResolvedToolContract id:pbreports.tasks.amplicon_analysis_timing >
[INFO] 2016-06-18 04:50:55,386Z [pbcommand.testkit.core test_run_e2e 138] Successfully completed running e2e for python -m pbreports.report.amplicon_analysis_timing  --emit-tool-contract 
ok
test_run_e2e (test_tool_contract_sts_xml_reports.TestAdapterReport) ... [INFO] 2016-06-18 04:50:56,761Z [pbcommand.testkit.core test_run_e2e 107] Resolving tool contract to RTC
[INFO] 2016-06-18 04:50:56,762Z [pbcommand.testkit.core test_run_e2e 130] running resolved contract /tmp/tmp2GVqIgrtc-test/tmp_zlDKFresolved_tool_contract.json
[INFO] 2016-06-18 04:50:56,762Z [pbcommand.testkit.core test_run_e2e 133] Running exe 'python -m pbreports.report.adapter_xml  --resolved-tool-contract  /tmp/tmp2GVqIgrtc-test/tmp_zlDKFresolved_tool_contract.json'
[INFO] 2016-06-18 04:50:59,528Z [pbcommand.testkit.core test_run_e2e 138] Successfully completed running e2e for python -m pbreports.report.adapter_xml  --emit-tool-contract 
ok
test_run_e2e (test_tool_contract_sts_xml_reports.TestFilterStatsReport) ... [INFO] 2016-06-18 04:51:00,829Z [pbcommand.testkit.core test_run_e2e 107] Resolving tool contract to RTC
[INFO] 2016-06-18 04:51:00,829Z [pbcommand.testkit.core test_run_e2e 130] running resolved contract /tmp/tmpyakc7mrtc-test/tmpBljK80resolved_tool_contract.json
[INFO] 2016-06-18 04:51:00,829Z [pbcommand.testkit.core test_run_e2e 133] Running exe 'python -m pbreports.report.filter_stats_xml  --resolved-tool-contract  /tmp/tmpyakc7mrtc-test/tmpBljK80resolved_tool_contract.json'
[INFO] 2016-06-18 04:51:05,215Z [pbcommand.testkit.core test_run_e2e 138] Successfully completed running e2e for python -m pbreports.report.filter_stats_xml  --emit-tool-contract 
ok
test_run_e2e (test_tool_contract_sts_xml_reports.TestLoadingReport) ... [INFO] 2016-06-18 04:51:06,450Z [pbcommand.testkit.core test_run_e2e 107] Resolving tool contract to RTC
[INFO] 2016-06-18 04:51:06,450Z [pbcommand.testkit.core test_run_e2e 130] running resolved contract /tmp/tmpVZGb46rtc-test/tmpKAsdHEresolved_tool_contract.json
[INFO] 2016-06-18 04:51:06,450Z [pbcommand.testkit.core test_run_e2e 133] Running exe 'python -m pbreports.report.loading_xml  --resolved-tool-contract  /tmp/tmpVZGb46rtc-test/tmpKAsdHEresolved_tool_contract.json'
[INFO] 2016-06-18 04:51:07,377Z [pbcommand.testkit.core test_run_e2e 138] Successfully completed running e2e for python -m pbreports.report.loading_xml  --emit-tool-contract 
ok

======================================================================
ERROR: test_column (test_pbreports_report_report_spec.TestCorrectReportValues)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/blerch/github/pbreports/tests/unit/test_pbreports_report_report_spec.py", line 83, in test_column
    self.assertEqual(self.rpt.get_table_by_id('table1').get_column_by_id('column1').values, [1,22,142])
AttributeError: 'Report' object has no attribute 'get_table_by_id'

======================================================================
ERROR: test_plot (test_pbreports_report_report_spec.TestCorrectReportValues)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/blerch/github/pbreports/tests/unit/test_pbreports_report_report_spec.py", line 88, in test_plot
    self.assertEqual(self.rpt.get_plotgroup_by_id('plotgroup1').get_plot_by_id('plot1').image, PLOT1_FILE)
AttributeError: 'Report' object has no attribute 'get_plotgroup_by_id'

======================================================================
ERROR: test_plotgroup (test_pbreports_report_report_spec.TestCorrectReportValues)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/blerch/github/pbreports/tests/unit/test_pbreports_report_report_spec.py", line 93, in test_plotgroup
    self.assertEqual(self.rpt.get_plotgroup_by_id('plotgroup1').thumbnail, THUMBNAIL2_FILE)
AttributeError: 'Report' object has no attribute 'get_plotgroup_by_id'

----------------------------------------------------------------------
Ran 393 tests in 398.187s

FAILED (SKIP=7, errors=3)
